{"version":3,"file":"Protocol-legacy-35a3c186.js","sources":["../../src/view/Protocol.vue"],"sourcesContent":["<template>\r\n\t<div class=\"test\">\r\n\t\t<van-button type=\"primary\" @click=\"opnePermissions\">打开定位权限</van-button>\r\n\t\t<p></p>\r\n\t\t<van-button type=\"primary\" @click=\"sendMessage\">发送提醒对方开启权限消息</van-button>\r\n\t\t<p></p>\r\n\t\t<br />\r\n\r\n\t\t<van-field\r\n\t\t\tv-model.number=\"state.num\"\r\n\t\t\ttype=\"digit\"\r\n\t\t\tlabel=\"图片数量：\"\r\n\t\t\tplaceholder=\"请输入选择图片数量\"\r\n\t\t/>\r\n\t\t<!-- <van-field type=\"number\" v-model:value=\"state.num\" label=\"数量\"></van-field> -->\r\n\t\t<van-button type=\"primary\" @click=\"selectAblum\">选择心动相册</van-button>\r\n\t\t<van-button type=\"primary\" @click=\"selectSystem\">选择系统相册</van-button>\r\n\t\t<div class=\"images\">\r\n\t\t\t<div v-for=\"item in state.image\" :key=\"item\" class=\"image\">\r\n\t\t\t\t<van-image :src=\"item\" fit=\"cover\"></van-image>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { reactive } from \"vue\"\r\nimport { xdJsbridge } from \"wnl-xdsdk\"\r\n\r\nconst state = reactive({\r\n\timage: [],\r\n\tnum: 3\r\n})\r\n\r\n// 打开定位权限\r\nconst opnePermissions = () => {\r\n\txdJsbridge\r\n\t\t.invokeAction({\r\n\t\t\tcommand: \"openSystemLocationPermissions\",\r\n\t\t\targs: {\r\n\t\t\t\tcallback: \"systemLocation\"\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res: any) => {\r\n\t\t\talert(`开启定位回调：${res}，类型:${typeof res}`)\r\n\t\t})\r\n}\r\n\r\nconst sendMessage = () => {\r\n\txdJsbridge.invokeAction({\r\n\t\tcommand: \"sendLocationMessage\",\r\n\t\targs: {}\r\n\t})\r\n}\r\n\r\nconst selectAblum = () => {\r\n\tconsole.log({\r\n\t\tmaxNum: state.num || 3,\r\n\t\tcallback: \"slelectAlbum\"\r\n\t})\r\n\txdJsbridge\r\n\t\t.invokeAction({\r\n\t\t\tcommand: \"selectAlbumImages\",\r\n\t\t\targs: {\r\n\t\t\t\tmaxNum: state.num || 3,\r\n\t\t\t\tcallback: \"slelectAlbum\"\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((images: any) => {\r\n\t\t\tstate.image = images\r\n\t\t\tconsole.log(\"选择图片数据\", images)\r\n\t\t})\r\n}\r\n\r\nconst selectSystem = () => {\r\n\tconsole.log({\r\n\t\tmaxNum: state.num || 3,\r\n\t\tcallback: \"getPictures\",\r\n\t\ttype: \"image\"\r\n\t})\r\n\txdJsbridge\r\n\t\t.invokeAction({\r\n\t\t\tcommand: \"selectPictures\",\r\n\t\t\targs: {\r\n\t\t\t\tmaxNum: state.num || 1,\r\n\t\t\t\tcallback: \"getPictures\",\r\n\t\t\t\ttype: \"image\"\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((images: any) => {\r\n\t\t\tstate.image = images\r\n\t\t\tconsole.log(\"选择图片数据\", images)\r\n\t\t})\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.test {\r\n\tbackground-color: red;\r\n\r\n\t.images {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: flex-start;\r\n\r\n\t\t.image {\r\n\t\t\twidth: 33vw;\r\n\t\t\theight: 33vw;\r\n\r\n\t\t\t.van-image {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n"],"names":["state","reactive","image","num","opnePermissions","xdJsbridge","invokeAction","command","args","callback","then","res","alert","concat","_typeof","sendMessage","selectAblum","console","log","maxNum","images","selectSystem","type"],"mappings":"63FA6BA,IAAAA,EAAAC,EAAA,CAAuBC,MAAA,GACdC,IAAA,IAKTC,EAAA,WACCC,EAAAC,aAAA,CACeC,QAAA,gCACJC,KAAA,CACHC,SAAA,oBAENC,MAAA,SAAAC,GAGAC,MAAAC,UAAAA,OAAAF,EAAAE,QAAAA,OAAAC,EAAAH,IAAsC,GACtC,EAGHI,EAAA,WACCV,EAAAC,aAAA,CAAwBC,QAAA,sBACdC,KAAA,CAAA,GAET,EAGFQ,EAAA,WACCC,QAAAC,IAAA,CAAYC,OAAAnB,EAAAG,KAAA,EACUM,SAAA,iBAGtBJ,EAAAC,aAAA,CACeC,QAAA,oBACJC,KAAA,CACHW,OAAAnB,EAAAG,KAAA,EACgBM,SAAA,kBAEtBC,MAAA,SAAAU,GAGApB,EAAAE,MAAAkB,EACAH,QAAAC,IAAA,SAAAE,EAA4B,GAC5B,EAGHC,EAAA,WACCJ,QAAAC,IAAA,CAAYC,OAAAnB,EAAAG,KAAA,EACUM,SAAA,cACXa,KAAA,UAGXjB,EAAAC,aAAA,CACeC,QAAA,iBACJC,KAAA,CACHW,OAAAnB,EAAAG,KAAA,EACgBM,SAAA,cACXa,KAAA,WAEXZ,MAAA,SAAAU,GAGApB,EAAAE,MAAAkB,EACAH,QAAAC,IAAA,SAAAE,EAA4B,GAC5B"}