var O=Object.defineProperty;var S=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>(S(e,typeof t!="symbol"?t+"":t,n),n);import{d as R,r as h,c as _,w as g,o as v,a as T,b,e as A,f as C,g as N,h as x,s as B,i as y,j as V,k as D,l as E,K as j,T as F,U as l,N as $,_ as q,m as K,n as M}from"./vendor-1496a439.js";function re(){import.meta.url,import("_").catch(()=>1);async function*e(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const U="modulepreload",H=function(e,t){return new URL(e,t).href},w={},P=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=H(s,r),s in w)return;w[s]=!0;const a=s.endsWith(".css"),L=a?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(s,'"]').concat(L)))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":U,a||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),a)return new Promise((u,d)=>{i.addEventListener("load",u),i.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(s))))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};const W="false";console.log("是否开启h5埋点",W);const z=R({__name:"App",setup(e){return(t,n)=>{const r=h("fade-transition"),o=h("RouterView");return v(),_(o,{class:"child-view"},{default:g(({Component:s})=>[T(r,null,{default:g(()=>[(v(),_(b(s)))]),_:2},1024)]),_:1})}}});const G=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},J=G(z,[["__scopeId","data-v-cc39480e"]]),Q=[{path:"/",name:"home",component:()=>P(()=>import("./Game-83ed7105.js"),["./Game-83ed7105.js","./vendor-1496a439.js","./vendor-6e0463b2.css","./Game-c3b6214a.css"],import.meta.url),meta:{title:"2048"}},{path:"/game",name:"game",component:()=>P(()=>import("./Game-83ed7105.js"),["./Game-83ed7105.js","./vendor-1496a439.js","./vendor-6e0463b2.css","./Game-c3b6214a.css"],import.meta.url),meta:{title:"2048"}}],f=A({history:C(),routes:Q,scrollBehavior(e,t,n){return n||{left:0,top:0}}});f.beforeEach((e,t,n)=>{document.title=e.meta.title,n()});N("index",()=>{const e=y(1),t=y(0),n=V(()=>e);return{id:e,count:t,getter:n,add:()=>t.value++,cut:()=>t.value--}},{persist:!1});const I=x();I.use(B);class X{constructor(){m(this,"data");this.data=[]}get(){let t=this.data.length;return t===0?"":this.data[t-1]}pop(){return this.data.pop()}includes(t){return this.data.includes(t)}push(t){this.data.push(t)}splice(t,n){this.data=this.data.slice(t,n)}}const p=new X,c=D({caches:[],name:""}),Y=()=>{c.caches.length>0&&c.caches.pop()},k=e=>{c.caches.push(e)};f.beforeEach((e,t,n)=>{const r=t.name,o=e.name;r?p.get()===o?(p.pop(),c.name="left-out",Y()):e.query.replace==="replace"?(c.name="right-in",c.caches.pop(),c.caches.push(o)):(p.push(r),c.name="right-in",k(o)):k(o),n()});const Z={install(e){const t={name:"FadeTransition",functional:!0,render(n){const r=n.$slots,o=[E(j,{include:c.caches},r.default())];return E(F,{name:c.name},()=>o)}};e.component("FadeTransition",t)}},ee=()=>{fetch("version.json?t="+new Date().getTime()).then(e=>e.status==200?e.json():Promise.reject(e)).then(e=>{console.log("t",e.t);const t=localStorage.getItem("lastModified");console.log("time",t),t==null||t==e.t?(console.log("版本一致"),localStorage.setItem("lastModified",e.t)):$.popup({title:"提示",content:"检测到有新版本，请刷新页面",cancel:"",confirm:"刷新"}).then(()=>{localStorage.setItem("lastModified",e.t),window.location.reload()})})};(function(e){e.userId=l("userId"),e.pairId=l("pairId"),e.av=l("av"),e.token=l("token"),e.heartPercent=l("heartPercent",""),e.client=l("client",q.os),e.telephone=l("phone",""),ee()})(window.sessionStorage);K({className:"my-toast",position:"bottom"});const te="production";console.log(te);const oe=M(J);oe.use(Z).use(f).use(I).mount("#app");export{G as _,re as __vite_legacy_guard};
